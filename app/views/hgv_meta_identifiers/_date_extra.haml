- textDateId = 'dateAlternative' + date_id
- textDateWhen = date_item && date_item.keys.include?(:attributes) && date_item[:attributes].keys.include?(:when) ? date_item[:attributes][:when] : '' 
- textDateFrom = date_item && date_item.keys.include?(:attributes) && date_item[:attributes].keys.include?(:notBefore) ? date_item[:attributes][:notBefore] : ''
- textDateTo = date_item && date_item.keys.include?(:attributes) && date_item[:attributes].keys.include?(:notAfter) ? date_item[:attributes][:notAfter] : ''
- textDate = date_item && date_item.keys.include?(:value) && date_item[:value] ? date_item[:value] : ''
%p
  = label_tag 'hgv_meta_identifier', I18n.t('meta.label.id'), :title => @identifier.configuration.xpath(:textDate)
  %span
    = date_item ? textDateId : '(' + textDateId + ')'
  = hidden_field_tag 'hgv_meta_identifier[textDate][' + date_index.to_s + '][attributes][id]', textDateId, :disabled => !@identifier.mutable?, :class => 'observechange'
%p  
  = label_tag 'hgv_meta_identifier', I18n.t('meta.label.when'), :title => @identifier.configuration.xpath(:textDate)
  %span{:id => 'when' + date_id}
    = textDateWhen
  = hidden_field_tag 'hgv_meta_identifier[textDate][' + date_index.to_s + '][attributes][when]', textDateWhen, :disabled => !@identifier.mutable?, :class => 'observechange'
%p
  = label_tag 'hgv_meta_identifier', I18n.t('meta.label.after'), :title => @identifier.configuration.xpath(:textDate)
  %span{:id => 'notBefore' + date_id}
    = textDateFrom
  = hidden_field_tag 'hgv_meta_identifier[textDate][' + date_index.to_s + '][attributes][notBefore]', textDateFrom, :disabled => !@identifier.mutable?, :class => 'observechange'
%p
  = label_tag 'hgv_meta_identifier', I18n.t('meta.label.before'), :title => @identifier.configuration.xpath(:textDate)
  %span{:id => 'notAfter' + date_id}
    = textDateTo
  = hidden_field_tag 'hgv_meta_identifier[textDate][' + date_index.to_s + '][attributes][notAfter]', textDateTo, :disabled => !@identifier.mutable?, :class => 'observechange'
%p
  = label_tag 'hgv_meta_identifier', I18n.t('meta.label.textDate'), :title => @identifier.configuration.xpath(:textDate)
  %span{:id => 'format' + date_id}
    = textDate
  = hidden_field_tag 'hgv_meta_identifier[textDate][' + date_index.to_s + '][value]', textDate, :disabled => !@identifier.mutable?, :class => 'observechange'
