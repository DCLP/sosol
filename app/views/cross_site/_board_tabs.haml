- if @current_user
  - is_first = true
  
  - sosol_boards = @current_user.boards.ranked

  -# need list of community board ids
  - community_ids = @current_user.boards.collect{ |b| b.community_id }
  - community_ids.uniq!
  - community_ids.compact!

  - if sosol_boards || community_ids
    
    - current_board_id  = nil
    
    - if @current_board
      - current_board_id = @current_board.id
    - elsif false && @current_publication && @current_publication.owner_type == "Board"
      - current_board_id = @current_publication.owner.id
    
    %style{:type => "text/css", :media => "screen"}
      :plain
        .right {
          float: right;
         }
    
    %ul{:class => "nav right" }
      %li
        Boards:
      - sosol_boards.each do |sb|
        %li
          = link_to sb.friendly_name, :controller => "user", :action => "dashboard", :dashboard_type => "board", :board_id => sb.id
      
  
      
      - community_ids.each do |next_id|
       
        - community_boards = @current_user.boards.ranked_by_community_id(next_id)
        - current_name = Community.find(next_id).friendly_name
        
        - if is_first
          - is_first = false
        - else
          %li
            |
        %li
          = current_name    
        - community_boards.each do |cb|
          %li
            = link_to cb.friendly_name, :controller => "user", :action => "dashboard", :dashboard_type => "board", :board_id => cb.id
            
        
