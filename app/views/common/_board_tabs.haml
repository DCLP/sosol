- sosol_boards = @current_user.boards.ranked
- board_prefix = "Brd: "

- current_board_id  = nil

- if @current_board 
  - current_board_id = @current_board.id
- elsif false && @current_publication && @current_publication.owner_type == "Board"
  - current_board_id = @current_publication.owner.id

 
  
.header_spacer_tab
  
- sosol_boards.each do |sb|
  - active_class = ""
  - if sb.id == current_board_id
    - active_class = " active_tab"
  -# #header_board_tab{ :class => "header_tab" + active_class }
  - tab_div_id = "header_board_tab_" + sb.id.to_s
  %div{ :id => tab_div_id,  :class => "header_tab" + active_class }
    = link_to board_prefix + sb.friendly_name, :controller => "user", :action => "dashboard", :dashboard_type => "board", :board_id => sb.id

-# need list of community board ids
- community_ids = @current_user.boards.collect{ |b| b.community_id }
- community_ids.uniq!
- community_ids.compact!



- community_ids.each do |next_id|
 
  - community_boards = @current_user.boards.ranked_by_community_id(next_id)
  - current_name = Community.find(next_id).friendly_name
  
  .header_spacer_tab
    
  - community_boards.each do |cb|
    - active_class = ""
    - if cb.id == request.cookies["active_board_tab_id"]
      - active_class = " active_tab"
    -# #header_board_tab{ :class => "header_tab" + active_class }
    - tab_div_id = "header_board_tab_" + cb.id.to_s
    %div{ :id => tab_div_id,  :class => "header_tab" + active_class }
      = link_to board_prefix + cb.friendly_name, :controller => "user", :action => "dashboard", :dashboard_type => "board", :board_id => cb.id
      
  
